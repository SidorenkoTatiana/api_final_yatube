# api_final

## Описание

**Название проекта**: Blog API

Этот проект представляет собой RESTful API для управления блогами, публикациями и комментариями. Он разработан с использованием Django и Django REST Framework, обеспечивая функциональность для создания, чтения, обновления и удаления публикаций и комментариев. Проект также включает управление сообществами и подписками пользователей, а также обеспечивает аутентификацию через JWT (JSON Web Tokens), что позволяет гарантировать безопасность и контроль доступа к ресурсам API.

### Основные функции:

- **Управление публикациями**: создание, получение, обновление и удаление публикаций.
- **Управление комментариями**: добавление, получение, обновление и удаление комментариев к публикациям.
- **Управление сообществами**: получение списка сообществ и информации о конкретном сообществе.
- **Подписки**: возможность подписываться на других пользователей и получать список своих подписок.
- **Аутентификация**: получение и обновление JWT токенов для аутентификации пользователей.

## Установка

Следуйте этим шагам, чтобы развернуть проект на локальной машине:

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/ваш_пользователь/ваш_репозиторий.git
   cd ваш_репозиторий
   ```

2. **Создайте виртуальное окружение**:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Windows используйте: venv\Scripts\activate
   ```

3. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

4. **Настройте базу данных**:
   - Убедитесь, что у вас установлен PostgreSQL или используйте SQLite для простоты.
   - Измените настройки базы данных в `settings.py`, если необходимо.
   - Выполните миграции:
     ```bash
     python manage.py migrate
     ```

5. **Создайте суперпользователя** (для доступа к админке):
   ```bash
   python manage.py createsuperuser
   ```

6. **Запустите сервер**:
   ```bash
   python manage.py runserver
   ```

Теперь вы можете получить доступ к API по адресу `http://localhost:8000/`.

## Примеры

### Получение JWT токена

Отправьте POST-запрос на `/api/v1/jwt/create/` с вашими учетными данными:

```bash
curl -X POST -H "Content-Type: application/json" -d '{
    "username": "<ваш_логин>",
    "password": "<ваш_пароль>"
}' http://localhost:8000/api/v1/jwt/create/
```

**Ответ**:
```json
{
    "refresh": "<refresh_token>",
    "access": "<access_token>"
}
```

### Получение списка публикаций

Для получения списка всех публикаций отправьте GET-запрос на `/api/v1/posts/`:

```bash
curl -H "Authorization: Bearer <ваш_access_token>" http://localhost:8000/api/v1/posts/
```

**Ответ (200 OK)**:
```json
{
    "count": 123,
    "next": "http://localhost:8000/api/v1/posts/?offset=10&limit=10",
    "previous": null,
    "results": [
        {
            "id": 1,
            "author": "username",
            "text": "Текст публикации",
            "pub_date": "2019-08-24T14:15:22Z",
            "image": null,
            "group": null
        }
    ]
}
```

### Создание новой публикации

Отправьте POST-запрос на `/api/v1/posts/` с данными новой публикации:

```bash
curl -X POST -H "Authorization: Bearer <ваш_access_token>" -H "Content-Type: application/json" -d '{
    "text": "Текст новой публикации",
    "image": null,
    "group": null
}' http://localhost:8000/api/v1/posts/
```

**Ответ (201 Created)**:
```json
{
    "id": 1,
    "author": "username",
    "text": "Текст новой публикации",
    "pub_date": "2019-08-24T14:15:22Z",
    "image": null,
    "group": null
}
```

### Получение списка сообществ

Для получения списка всех сообществ отправьте GET-запрос на `/api/v1/groups/`:

```bash
curl -H "Authorization: Bearer <ваш_access_token>" http://localhost:8000/api/v1/groups/
```

**Ответ (200 OK)**:
```json
[
    {
        "id": 1,
        "title": "Пример сообщества",
        "slug": "primer-soobshchestva",
        "description": "Описание примера сообщества."
    }
]
```

### Получение информации о сообществе по ID

Отправьте GET-запрос на `/api/v1/groups/{id}/`:

```bash
curl -H "Authorization: Bearer <ваш_access_token>" http://localhost:8000/api/v1/groups/1/
```

**Ответ (200 OK)**:
```json
{
    "id": 1,
    "title": "Пример сообщества",
    "slug": "primer-soobshchestva",
    "description": "Описание примера сообщества."
}
```

## Заключение

Этот проект предоставляет мощный и гибкий API для управления блогами, публикациями, комментариями и сообществами, обеспечивая безопасность с помощью JWT аутентификации. Вы можете расширять функциональность, добавляя новые функции и улучшая существующие.